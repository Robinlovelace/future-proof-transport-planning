[
  {
    "objectID": "slides-glasgow.html#about-me-and-my-work",
    "href": "slides-glasgow.html#about-me-and-my-work",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "About me and my work",
    "text": "About me and my work\n\n\n\n\nProfessor of Transport Data Science\nWork with government\nFocus on impact\nR package developer and data scientist\nNew methods for more reproducible, data-driven and participatory transport planning"
  },
  {
    "objectID": "slides-glasgow.html#contents",
    "href": "slides-glasgow.html#contents",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Contents",
    "text": "Contents\n\n\nDefinitions: what is reproducible research and future proof transport planning?\nReproducible research and open tools\nFuture-proof transport planning"
  },
  {
    "objectID": "slides-glasgow.html#definitions",
    "href": "slides-glasgow.html#definitions",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Definitions",
    "text": "Definitions\n\na tool is a … piece of software or online service; a model … is method or process that is expounded in theoretical terms; software is … instructions that underlies digital tools Lovelace (2021)\n\nReproducible research: Other people can re-generate your results\n\nOpen source software: Software that is free to use and modify\n\n\nOpen access tools: Web applications for transport planning that are based on open source software, that anyone can use\n\n\nOpen access data: Data that is freely available to use and share\n\n\nFuture-proof work that is likely to be useful in the medium-term future"
  },
  {
    "objectID": "slides-glasgow.html#i-reproducibility",
    "href": "slides-glasgow.html#i-reproducibility",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "(I-)Reproducibility",
    "text": "(I-)Reproducibility\nReproducibility is a continuous variable (Peng 2011)"
  },
  {
    "objectID": "slides-glasgow.html#why-make-your-research-more-reproducible",
    "href": "slides-glasgow.html#why-make-your-research-more-reproducible",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Why make your research (more) reproducible?",
    "text": "Why make your research (more) reproducible?\n\n\n\nSource: Raff (2023)\n\n\n\nScientific rigour\nBenefits to your future self\nBenefits to others\nHuge increase in potential for impact"
  },
  {
    "objectID": "slides-glasgow.html#why-not-make-your-research-reproducible",
    "href": "slides-glasgow.html#why-not-make-your-research-reproducible",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Why not make your research reproducible?",
    "text": "Why not make your research reproducible?\n\n\n\n\nTime\nKnow-how\nLack of permission\nSoftware is not open\nData is not open access\nSomeone might use it in unethical ways\nSomeone might “steal” the work"
  },
  {
    "objectID": "slides-glasgow.html#example-of-fully-reproducible-research",
    "href": "slides-glasgow.html#example-of-fully-reproducible-research",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Example of fully reproducible research",
    "text": "Example of fully reproducible research\n\nLovelace, Tennekes, and Carlino (2022)"
  },
  {
    "objectID": "slides-glasgow.html#reproducibility-and-generalisability",
    "href": "slides-glasgow.html#reproducibility-and-generalisability",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Reproducibility and generalisability",
    "text": "Reproducibility and generalisability\n\nIllustration of the ClockBoard zoning system used to visualize a geographically dependendent phenomena: air quality, measured in mass of PM10 particles, measured in micrograms per cubic meter, from the London Atmospheric Emissions Inventory (LAEI). The facets show the data in spatial grid available from the LAEI, facet Am and aggregated to London boroughs B, to ClockBoard zones covering all the input data shown in C, and ClockBoard zones clipped by the administrative boundary of Greater London in D."
  },
  {
    "objectID": "slides-glasgow.html#application-road-traffic-casualties",
    "href": "slides-glasgow.html#application-road-traffic-casualties",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Application: road traffic casualties",
    "text": "Application: road traffic casualties"
  },
  {
    "objectID": "slides-glasgow.html#international-comparisons",
    "href": "slides-glasgow.html#international-comparisons",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "International comparisons",
    "text": "International comparisons\n\n\n\n\nPremise: A key reason for reproducibility is generalisability."
  },
  {
    "objectID": "slides-glasgow.html#case-study-mobile-telephone-data-in-spain",
    "href": "slides-glasgow.html#case-study-mobile-telephone-data-in-spain",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Case study: mobile telephone data in Spain",
    "text": "Case study: mobile telephone data in Spain"
  },
  {
    "objectID": "slides-glasgow.html#dont-reinvent-the-wheel",
    "href": "slides-glasgow.html#dont-reinvent-the-wheel",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Don’t reinvent the wheel",
    "text": "Don’t reinvent the wheel\n\n\nBefore\n\noptions(timeout = 600) # 10 minutes\nu1 = \"https://movilidad-opendata.mitma.es/estudios_basicos/por-distritos/viajes/ficheros-diarios/2024-03/20240301_Viajes_distritos.csv.gz\"\nf1 = basename(u1)\nif (!file.exists(f1)) {\n  download.file(u1, f1)\n}\ndrv = duckdb::duckdb(\"daily.duckdb\")\ncon = DBI::dbConnect(drv)\nod1 = duckdb::tbl_file(con, f1)\n\nCredit: Egor Kotov\n\n\nremotes::install_github(\"Robinlovelace/spanishoddata\")\nod_multi_list = get_od(date_regex = \"2024030[1-7]\")\n# ...\nn_per_hour |&gt;\n  ggplot(aes(x = Time, y = Trips)) +\n  geom_line(aes(colour = Day)) +\n  labs(title = \"Number of trips per hour over 7 days\")"
  },
  {
    "objectID": "slides-glasgow.html#re-using-existing-tools",
    "href": "slides-glasgow.html#re-using-existing-tools",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Re-using existing tools",
    "text": "Re-using existing tools\n\n\n\n# Process the data\nod_large = od_database |&gt;\n  group_by(origen, destino) |&gt;\n  summarise(Trips = sum(viajes), .groups = \"drop\") |&gt;\n  filter(Trips &gt; 500) |&gt;\n  collect() |&gt;\n  arrange(desc(Trips))\n# ℹ 37,013 more rows\n# Convert to geo with {od} package:\nod_large_interzonal_sf = od::od_to_sf(\n  od_large_interzonal,\n  z = distritos_wgs84\n)\nod_large_interzonal_sf |&gt;\n  ggplot() +\n  geom_sf(aes(size = Trips), colour = \"red\") +\n  theme_void()"
  },
  {
    "objectID": "slides-glasgow.html#zooming-in",
    "href": "slides-glasgow.html#zooming-in",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Zooming in",
    "text": "Zooming in\n\ndistritos = get_zones(type = \"distritos\")\ndistritos_wgs84 = sf::st_transform(distritos, 4326)\nsalamanca_zones = zonebuilder::zb_zone(\"Salamanca\")\ndistritos_salamanca = distritos_wgs84[salamanca_zones, ]\nplot(distritos_salamanca)"
  },
  {
    "objectID": "slides-glasgow.html#subsetting-from-the-database",
    "href": "slides-glasgow.html#subsetting-from-the-database",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Subsetting from the database",
    "text": "Subsetting from the database\n\n\n\nod_salamanca = od_database |&gt;\n  filter(origen %in% ids_salamanca) |&gt;\n  filter(destino %in% ids_salamanca) |&gt;\n  collect()\n  group_by(origen, destino) |&gt;\n  summarise(Trips = sum(viajes)) |&gt;\n  arrange(Trips)\nod_salamanca_sf = od::od_to_sf(\n  od_salamanca,\n  z = distritos_salamanca\n)\nod_salamanca_sf |&gt;\n  filter(origen != destino) |&gt;\n  ggplot() +\n  geom_sf(aes(colour = Trips), size = 1) +\n  scale_colour_viridis_c() +\n  theme_void()"
  },
  {
    "objectID": "slides-glasgow.html#spatial-disaggregation",
    "href": "slides-glasgow.html#spatial-disaggregation",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Spatial disaggregation",
    "text": "Spatial disaggregation\n\n\n\nod_jittered = odjitter::jitter(\n  od_salamanca_sf,\n  zones = distritos_salamanca,\n  subpoints = drive_net,\n  disaggregation_threshold = 1000,\n  disaggregation_key = \"Trips\"\n)\nod_jittered |&gt;\n  arrange(Trips) |&gt;\n  ggplot() +\n  geom_sf(aes(colour = Trips), size = 1) +\n  scale_colour_viridis_c() +\n  geom_sf(data = drive_net_major, colour = \"black\") +\n  theme_void()"
  },
  {
    "objectID": "slides-glasgow.html#buildinglinking-up-with-communities",
    "href": "slides-glasgow.html#buildinglinking-up-with-communities",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Building/linking-up-with communities",
    "text": "Building/linking-up-with communities\nThe package has been onboarded to rOpenSpain public benefit data science community (see ropenspain.github.io)"
  },
  {
    "objectID": "slides-glasgow.html#how-does-spatial-disaggregation-jittering-work",
    "href": "slides-glasgow.html#how-does-spatial-disaggregation-jittering-work",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "How does spatial disaggregation (jittering) work?",
    "text": "How does spatial disaggregation (jittering) work?\n\nSource: (Lovelace, Félix, and Carlino 2022)"
  },
  {
    "objectID": "slides-glasgow.html#origin-and-end-point-randomisation-disaggregation",
    "href": "slides-glasgow.html#origin-and-end-point-randomisation-disaggregation",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Origin and end point randomisation + disaggregation",
    "text": "Origin and end point randomisation + disaggregation\n\nSource: (Lovelace, Félix, and Carlino 2022)"
  },
  {
    "objectID": "slides-glasgow.html#cross-language-collaboration",
    "href": "slides-glasgow.html#cross-language-collaboration",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Cross-language collaboration",
    "text": "Cross-language collaboration\n\nSource: https://github.com/dabreegster/odjitter"
  },
  {
    "objectID": "slides-glasgow.html#from-open-source-to-open-access",
    "href": "slides-glasgow.html#from-open-source-to-open-access",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "From open source to open access",
    "text": "From open source to open access\n\n\n\n“In essence ‘open access’ goes beyond ‘open source’ in that users are not only given the option of viewing (potentially indecipherable) source code, but are encouraged to do so, with measures taken in the software itself, and the community that builds it, to make it more user-friendly.””\nSource: (Lovelace, Parkin, and Cohen 2020)"
  },
  {
    "objectID": "slides-glasgow.html#from-methodssoftware-development-to-impact",
    "href": "slides-glasgow.html#from-methodssoftware-development-to-impact",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "From methods/software development to impact",
    "text": "From methods/software development to impact\n\nSource: screenshot from development version of open source and open access Network Planning Tools for Scotland: https://nptscot.github.io/#/rnet/#9.29/55.9882/-3.4379"
  },
  {
    "objectID": "slides-glasgow.html#rapid-feedback-loops-and-interactivity",
    "href": "slides-glasgow.html#rapid-feedback-loops-and-interactivity",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Rapid feedback loops and interactivity",
    "text": "Rapid feedback loops and interactivity\n\nIllustration of od2net client-side network generator (source: od2net.org)"
  },
  {
    "objectID": "slides-glasgow.html#enabling-participation",
    "href": "slides-glasgow.html#enabling-participation",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Enabling participation",
    "text": "Enabling participation\n\nSource: acteng.github.io. Credit: Dustin Carlino (Alan Turing Institute and Active Travel England) and colleagues in ATE."
  },
  {
    "objectID": "slides-glasgow.html#drivers-of-demand-for-transport-planning",
    "href": "slides-glasgow.html#drivers-of-demand-for-transport-planning",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Drivers of demand for transport planning",
    "text": "Drivers of demand for transport planning\ntransport planning software was originally designed in the late 1950s and onwards to plan for\n\nincreased use of cars [for personal travel], and trucks for deliveries and goods movement Boyce and Williams (2015)\n\nThankfully that is no longer a priority:\n\nPolicy drivers have changed dramatically since then: climate change mitigation, air quality improvement and public health are prioritised in the emergent ‘sustainable mobility paradigm’ Lovelace (2021)\n\nHow could/should/will demand shift in the future?"
  },
  {
    "objectID": "slides-glasgow.html#stages-of-open-and-reproducible-science",
    "href": "slides-glasgow.html#stages-of-open-and-reproducible-science",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Stages of open and reproducible science",
    "text": "Stages of open and reproducible science\n\n\n\nOpen access to the publications\nOpen access to sample (synthetic if sensitive) data\nOpen access to the code\nFully reproducible paper published with documentation\nProject deployed in tool for non-specialist use"
  },
  {
    "objectID": "slides-glasgow.html#conclusions",
    "href": "slides-glasgow.html#conclusions",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Conclusions",
    "text": "Conclusions\n\nReproducible research is a key part of future-proofing transport planning, for your work, and for the discipline as a whole\nOpen source software and open access tools are key to this, especially if you want to have humans in the loop\nAI is not a panacea, and has its own environmental costs\nIn this context, there are some key desirable features of future-proof transport models and associated software and tools:\n\nOpen source\nOpen access\nReproducible\nHuman-in-the-loop\nEasily adaptable to new data sources, methods, and demands"
  },
  {
    "objectID": "slides-glasgow.html#references",
    "href": "slides-glasgow.html#references",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "References",
    "text": "References\n\n\nBoyce, David E., and Huw C. W. L. Williams. 2015. Forecasting Urban Travel: Past, Present and Future. Edward Elgar Publishing.\n\n\nLovelace, Robin. 2021. “Open Source Tools for Geographic Analysis in Transport Planning.” Journal of Geographical Systems, January. https://doi.org/10.1007/s10109-020-00342-2.\n\n\nLovelace, Robin, Rosa Félix, and Dustin Carlino. 2022. “Jittering: A Computationally Efficient Method for Generating Realistic Route Networks from Origin-Destination Data.” Findings, April, 33873. https://doi.org/10.32866/001c.33873.\n\n\nLovelace, Robin, John Parkin, and Tom Cohen. 2020. “Open Access Transport Models: A Leverage Point in Sustainable Transport Planning.” Transport Policy 97 (October): 47–54. https://doi.org/10.1016/j.tranpol.2020.06.015.\n\n\nLovelace, Robin, Martijn Tennekes, and Dustin Carlino. 2022. “ClockBoard: A Zoning System for Urban Analysis.” Journal of Spatial Information Science, no. 24 (June): 63–85. https://doi.org/10.5311/JOSIS.2022.24.172.\n\n\nPeng, Roger D. 2011. “Reproducible Research in Computational Science.” Science (New York, N.y.) 334 (6060): 1226–27. https://doi.org/10.1126/science.1213847.\n\n\nRaff, Edward. 2023. “Does the Market of Citations Reward Reproducible Work?” In, 8996. ACM REP ’23. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/3589806.3600041.\n\n\nSemieniuk, Gregor, Philip B. Holden, Jean-Francois Mercure, Pablo Salas, Hector Pollitt, Katharine Jobson, Pim Vercoulen, Unnada Chewpreecha, Neil R. Edwards, and Jorge E. Viñuales. 2022. “Stranded Fossil-Fuel Assets Translate to Major Losses for Investors in Advanced Economies.” Nature Climate Change 12 (6): 532–38. https://doi.org/10.1038/s41558-022-01356-y."
  },
  {
    "objectID": "slides-glasgow.html#future-proofing-workflows-appendix",
    "href": "slides-glasgow.html#future-proofing-workflows-appendix",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Future-proofing workflows Appendix",
    "text": "Future-proofing workflows Appendix\nAvoid stranded assets (tech debt)\n\nSource: Semieniuk et al. (2022)"
  },
  {
    "objectID": "slides-glasgow.html#sec-appendix",
    "href": "slides-glasgow.html#sec-appendix",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Appendix: What if the machines do take over?",
    "text": "Appendix: What if the machines do take over?\n\nWould you want the AIs to be trained on your work?\n\nInitial thought: no way, that’s my data!\nSecond thought: if the AIs are going to take over, they might as well be well-informed, by good information and good intentions!\n\nWould you want to be able to understand how the AIs work?"
  },
  {
    "objectID": "slides-glasgow.html#ai-takeover",
    "href": "slides-glasgow.html#ai-takeover",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "AI takeover?",
    "text": "AI takeover?"
  },
  {
    "objectID": "slides-glasgow.html#where-are-we-headed-with-ai",
    "href": "slides-glasgow.html#where-are-we-headed-with-ai",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Where are we headed with AI?",
    "text": "Where are we headed with AI?\n\nSource: https://situational-awareness.ai"
  },
  {
    "objectID": "slides-glasgow.html#the-limits-of-ai",
    "href": "slides-glasgow.html#the-limits-of-ai",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "The limits of AI",
    "text": "The limits of AI\n\nNezhurina (N.D.)"
  },
  {
    "objectID": "slides-glasgow.html#environmental-costs-of-ai",
    "href": "slides-glasgow.html#environmental-costs-of-ai",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Environmental costs of ‘AI’",
    "text": "Environmental costs of ‘AI’\n\n\n\n\n\nIT sector was already poised to become a decarbonisation bottleneck\n\n\nSource: theregister.com and Gupta et al. (2021)"
  },
  {
    "objectID": "slides-glasgow.html#factoring-in-build-out-of-ai-data-centres",
    "href": "slides-glasgow.html#factoring-in-build-out-of-ai-data-centres",
    "title": "Tools for Future-Proof Transport Planning",
    "section": "Factoring-in build-out of AI data centres",
    "text": "Factoring-in build-out of AI data centres"
  },
  {
    "objectID": "slides.html#contents",
    "href": "slides.html#contents",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Contents",
    "text": "Contents\nPast\nPresent\nFUTURE\n\n\nPast: my journey and the people who made it possible\n\nTaking the liberty of talking about my life\n\nPresent: what I do\nFuture: what I think is important\nFuture-proofing transport planning\nFuture-proofing workflows\nFuture-proofing transport planning"
  },
  {
    "objectID": "slides.html#my-journey",
    "href": "slides.html#my-journey",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "My journey",
    "text": "My journey\n\n\n\n\n\n\n\n\nFigure 1: Places I have lived for 1+ years"
  },
  {
    "objectID": "slides.html#pool-cottage-2025",
    "href": "slides.html#pool-cottage-2025",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Pool Cottage (2025)",
    "text": "Pool Cottage (2025)"
  },
  {
    "objectID": "slides.html#herefordshire",
    "href": "slides.html#herefordshire",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Herefordshire",
    "text": "Herefordshire\n\n\n\n\n\n\n\n\nFigure 2\n\n\n\n\n\n\nNorton Canon is a village with around 200 people\nIt had a school, shop, pub church, post office and garage within walking distance when I was growing up but now only has two of those\nIt’s remote, roughly equidistant from Hereford, Leominster and Hay on Wye\nAlthough Hay on Wye is physically closer, it always felt further away because we rarely went that way, but you could feel the Welsh influence in the Black Mountains"
  },
  {
    "objectID": "slides.html#weobley-primary-school",
    "href": "slides.html#weobley-primary-school",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Weobley primary school",
    "text": "Weobley primary school\n\nPhoto of Weobley High School / IMD"
  },
  {
    "objectID": "slides.html#bristol",
    "href": "slides.html#bristol",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Bristol",
    "text": "Bristol"
  },
  {
    "objectID": "slides.html#bristol-2025",
    "href": "slides.html#bristol-2025",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Bristol 2025",
    "text": "Bristol 2025"
  },
  {
    "objectID": "slides.html#salamanca-on-erasmus-exchange-2006-2007",
    "href": "slides.html#salamanca-on-erasmus-exchange-2006-2007",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Salamanca on Erasmus exchange (2006-2007)",
    "text": "Salamanca on Erasmus exchange (2006-2007)"
  },
  {
    "objectID": "slides.html#york-2008-2009",
    "href": "slides.html#york-2008-2009",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "York (2008-2009)",
    "text": "York (2008-2009)\n\nScholarship to study Environmental Science and Management\n\n\n\n\nInfluential book “SEWTHA”, freely available at withouthotair.com (MacKay 2009)\n\n\nBlog post in The Oil Drum"
  },
  {
    "objectID": "slides.html#a",
    "href": "slides.html#a",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "a",
    "text": "a"
  },
  {
    "objectID": "slides.html#c",
    "href": "slides.html#c",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "c",
    "text": "c"
  },
  {
    "objectID": "slides.html#d",
    "href": "slides.html#d",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "d",
    "text": "d"
  },
  {
    "objectID": "slides.html#e",
    "href": "slides.html#e",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "e",
    "text": "e\n\n\n\nCargo bike and bike trailers in action, June 2010"
  },
  {
    "objectID": "slides.html#my-thesis",
    "href": "slides.html#my-thesis",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "My thesis",
    "text": "My thesis"
  },
  {
    "objectID": "slides.html#leeds",
    "href": "slides.html#leeds",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Leeds",
    "text": "Leeds"
  },
  {
    "objectID": "slides.html#sydney",
    "href": "slides.html#sydney",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Sydney",
    "text": "Sydney"
  },
  {
    "objectID": "slides.html#chapeltown",
    "href": "slides.html#chapeltown",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Chapeltown",
    "text": "Chapeltown"
  },
  {
    "objectID": "slides.html#chaco",
    "href": "slides.html#chaco",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Chaco",
    "text": "Chaco"
  },
  {
    "objectID": "slides.html#family",
    "href": "slides.html#family",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Family",
    "text": "Family\nFamily is the foundation on which many good things build."
  },
  {
    "objectID": "slides.html#work",
    "href": "slides.html#work",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Work",
    "text": "Work\n\n\n\n\nProfessor of Transport Data Science\nWork with government\nFocus on impact\nR package developer and data scientist\nNew methods for more reproducible, data-driven and participatory transport planning"
  },
  {
    "objectID": "slides.html#what-is-transport-data-science",
    "href": "slides.html#what-is-transport-data-science",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "What is Transport Data Science?",
    "text": "What is Transport Data Science?"
  },
  {
    "objectID": "slides.html#i-reproducibility",
    "href": "slides.html#i-reproducibility",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "(I-)Reproducibility",
    "text": "(I-)Reproducibility\nReproducibility is a continuous variable (Peng 2011)"
  },
  {
    "objectID": "slides.html#why-make-your-research-more-reproducible",
    "href": "slides.html#why-make-your-research-more-reproducible",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Why make your research (more) reproducible?",
    "text": "Why make your research (more) reproducible?\n\n\n\nSource: Raff (2023)\n\n\n\nScientific rigour\nBenefits to your future self\nBenefits to others\nHuge increase in potential for impact"
  },
  {
    "objectID": "slides.html#why-not-make-your-research-reproducible",
    "href": "slides.html#why-not-make-your-research-reproducible",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Why not make your research reproducible?",
    "text": "Why not make your research reproducible?\n\n\n\n\nTime\nKnow-how\nLack of permission\nSoftware is not open\nData is not open access\nSomeone might use it in unethical ways\nSomeone might “steal” the work"
  },
  {
    "objectID": "slides.html#example-of-fully-reproducible-research",
    "href": "slides.html#example-of-fully-reproducible-research",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Example of fully reproducible research",
    "text": "Example of fully reproducible research\n\nLovelace, Tennekes, and Carlino (2022)"
  },
  {
    "objectID": "slides.html#reproducibility-and-generalisability",
    "href": "slides.html#reproducibility-and-generalisability",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Reproducibility and generalisability",
    "text": "Reproducibility and generalisability\n\nIllustration of the ClockBoard zoning system used to visualize a geographically dependendent phenomena: air quality, measured in mass of PM10 particles, measured in micrograms per cubic meter, from the London Atmospheric Emissions Inventory (LAEI). The facets show the data in spatial grid available from the LAEI, facet Am and aggregated to London boroughs B, to ClockBoard zones covering all the input data shown in C, and ClockBoard zones clipped by the administrative boundary of Greater London in D."
  },
  {
    "objectID": "slides.html#application-road-traffic-casualties",
    "href": "slides.html#application-road-traffic-casualties",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Application: road traffic casualties",
    "text": "Application: road traffic casualties"
  },
  {
    "objectID": "slides.html#international-comparisons",
    "href": "slides.html#international-comparisons",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "International comparisons",
    "text": "International comparisons\n\n\n\n\nPremise: A key reason for reproducibility is generalisability."
  },
  {
    "objectID": "slides.html#case-study-mobile-telephone-data-in-spain",
    "href": "slides.html#case-study-mobile-telephone-data-in-spain",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Case study: mobile telephone data in Spain",
    "text": "Case study: mobile telephone data in Spain"
  },
  {
    "objectID": "slides.html#dont-reinvent-the-wheel",
    "href": "slides.html#dont-reinvent-the-wheel",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Don’t reinvent the wheel",
    "text": "Don’t reinvent the wheel\n\n\nBefore\n\noptions(timeout = 600) # 10 minutes\nu1 = \"https://movilidad-opendata.mitma.es/estudios_basicos/por-distritos/viajes/ficheros-diarios/2024-03/20240301_Viajes_distritos.csv.gz\"\nf1 = basename(u1)\nif (!file.exists(f1)) {\n  download.file(u1, f1)\n}\ndrv = duckdb::duckdb(\"daily.duckdb\")\ncon = DBI::dbConnect(drv)\nod1 = duckdb::tbl_file(con, f1)\n\nCredit: Egor Kotov\n\n\nremotes::install_github(\"Robinlovelace/spanishoddata\")\nod_multi_list = get_od(date_regex = \"2024030[1-7]\")\n# ...\nn_per_hour |&gt;\n  ggplot(aes(x = Time, y = Trips)) +\n  geom_line(aes(colour = Day)) +\n  labs(title = \"Number of trips per hour over 7 days\")"
  },
  {
    "objectID": "slides.html#re-using-existing-tools",
    "href": "slides.html#re-using-existing-tools",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Re-using existing tools",
    "text": "Re-using existing tools\n\n\n\n# Process the data\nod_large = od_database |&gt;\n  group_by(origen, destino) |&gt;\n  summarise(Trips = sum(viajes), .groups = \"drop\") |&gt;\n  filter(Trips &gt; 500) |&gt;\n  collect() |&gt;\n  arrange(desc(Trips))\n# ℹ 37,013 more rows\n# Convert to geo with {od} package:\nod_large_interzonal_sf = od::od_to_sf(\n  od_large_interzonal,\n  z = distritos_wgs84\n)\nod_large_interzonal_sf |&gt;\n  ggplot() +\n  geom_sf(aes(size = Trips), colour = \"red\") +\n  theme_void()"
  },
  {
    "objectID": "slides.html#zooming-in",
    "href": "slides.html#zooming-in",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Zooming in",
    "text": "Zooming in\n\ndistritos = get_zones(type = \"distritos\")\ndistritos_wgs84 = sf::st_transform(distritos, 4326)\nsalamanca_zones = zonebuilder::zb_zone(\"Salamanca\")\ndistritos_salamanca = distritos_wgs84[salamanca_zones, ]\nplot(distritos_salamanca)"
  },
  {
    "objectID": "slides.html#subsetting-from-the-database",
    "href": "slides.html#subsetting-from-the-database",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Subsetting from the database",
    "text": "Subsetting from the database\n\n\n\nod_salamanca = od_database |&gt;\n  filter(origen %in% ids_salamanca) |&gt;\n  filter(destino %in% ids_salamanca) |&gt;\n  collect()\n  group_by(origen, destino) |&gt;\n  summarise(Trips = sum(viajes)) |&gt;\n  arrange(Trips)\nod_salamanca_sf = od::od_to_sf(\n  od_salamanca,\n  z = distritos_salamanca\n)\nod_salamanca_sf |&gt;\n  filter(origen != destino) |&gt;\n  ggplot() +\n  geom_sf(aes(colour = Trips), size = 1) +\n  scale_colour_viridis_c() +\n  theme_void()"
  },
  {
    "objectID": "slides.html#spatial-disaggregation",
    "href": "slides.html#spatial-disaggregation",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Spatial disaggregation",
    "text": "Spatial disaggregation\n\n\n\nod_jittered = odjitter::jitter(\n  od_salamanca_sf,\n  zones = distritos_salamanca,\n  subpoints = drive_net,\n  disaggregation_threshold = 1000,\n  disaggregation_key = \"Trips\"\n)\nod_jittered |&gt;\n  arrange(Trips) |&gt;\n  ggplot() +\n  geom_sf(aes(colour = Trips), size = 1) +\n  scale_colour_viridis_c() +\n  geom_sf(data = drive_net_major, colour = \"black\") +\n  theme_void()"
  },
  {
    "objectID": "slides.html#buildinglinking-up-with-communities",
    "href": "slides.html#buildinglinking-up-with-communities",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Building/linking-up-with communities",
    "text": "Building/linking-up-with communities\nThe package has been onboarded to rOpenSpain public benefit data science community (see ropenspain.github.io)"
  },
  {
    "objectID": "slides.html#how-does-spatial-disaggregation-jittering-work",
    "href": "slides.html#how-does-spatial-disaggregation-jittering-work",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "How does spatial disaggregation (jittering) work?",
    "text": "How does spatial disaggregation (jittering) work?\n\nSource: (Lovelace, Félix, and Carlino 2022)"
  },
  {
    "objectID": "slides.html#origin-and-end-point-randomisation-disaggregation",
    "href": "slides.html#origin-and-end-point-randomisation-disaggregation",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Origin and end point randomisation + disaggregation",
    "text": "Origin and end point randomisation + disaggregation\n\nSource: (Lovelace, Félix, and Carlino 2022)"
  },
  {
    "objectID": "slides.html#cross-language-collaboration",
    "href": "slides.html#cross-language-collaboration",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Cross-language collaboration",
    "text": "Cross-language collaboration\n\nSource: https://github.com/dabreegster/odjitter"
  },
  {
    "objectID": "slides.html#from-open-source-to-open-access",
    "href": "slides.html#from-open-source-to-open-access",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "From open source to open access",
    "text": "From open source to open access\n\n\n\n“In essence ‘open access’ goes beyond ‘open source’ in that users are not only given the option of viewing (potentially indecipherable) source code, but are encouraged to do so, with measures taken in the software itself, and the community that builds it, to make it more user-friendly.””\nSource: (Lovelace, Parkin, and Cohen 2020)"
  },
  {
    "objectID": "slides.html#from-methodssoftware-development-to-impact",
    "href": "slides.html#from-methodssoftware-development-to-impact",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "From methods/software development to impact",
    "text": "From methods/software development to impact\n\nSource: screenshot from development version of open source and open access Network Planning Tools for Scotland: https://nptscot.github.io/#/rnet/#9.29/55.9882/-3.4379"
  },
  {
    "objectID": "slides.html#rapid-feedback-loops-and-interactivity",
    "href": "slides.html#rapid-feedback-loops-and-interactivity",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Rapid feedback loops and interactivity",
    "text": "Rapid feedback loops and interactivity\n\nIllustration of od2net client-side network generator (source: od2net.org)"
  },
  {
    "objectID": "slides.html#enabling-participation",
    "href": "slides.html#enabling-participation",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Enabling participation",
    "text": "Enabling participation\n\nSource: acteng.github.io. Credit: Dustin Carlino (Alan Turing Institute and Active Travel England) and colleagues in ATE."
  },
  {
    "objectID": "slides.html#drivers-of-demand-for-transport-planning",
    "href": "slides.html#drivers-of-demand-for-transport-planning",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Drivers of demand for transport planning",
    "text": "Drivers of demand for transport planning\ntransport planning software was originally designed in the late 1950s and onwards to plan for\n\nincreased use of cars [for personal travel], and trucks for deliveries and goods movement Boyce and Williams (2015)\n\nThankfully that is no longer a priority:\n\nPolicy drivers have changed dramatically since then: climate change mitigation, air quality improvement and public health are prioritised in the emergent ‘sustainable mobility paradigm’ Lovelace (2021)\n\nHow could/should/will demand shift in the future?"
  },
  {
    "objectID": "slides.html#stages-of-open-and-reproducible-science",
    "href": "slides.html#stages-of-open-and-reproducible-science",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Stages of open and reproducible science",
    "text": "Stages of open and reproducible science\n\n\n\nOpen access to the publications\nOpen access to sample (synthetic if sensitive) data\nOpen access to the code\nFully reproducible paper published with documentation\nProject deployed in tool for non-specialist use"
  },
  {
    "objectID": "slides.html#conclusions",
    "href": "slides.html#conclusions",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Conclusions",
    "text": "Conclusions\n\nReproducible research is a key part of future-proofing transport planning, for your work, and for the discipline as a whole\nOpen source software and open access tools are key to this, especially if you want to have humans in the loop\nAI is not a panacea, and has its own environmental costs\nIn this context, there are some key desirable features of future-proof transport models and associated software and tools:\n\nOpen source\nOpen access\nReproducible\nHuman-in-the-loop\nEasily adaptable to new data sources, methods, and demands"
  },
  {
    "objectID": "slides.html#references",
    "href": "slides.html#references",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "References",
    "text": "References\n\n\nBoyce, David E., and Huw C. W. L. Williams. 2015. Forecasting Urban Travel: Past, Present and Future. Edward Elgar Publishing.\n\n\nLovelace, Robin. 2021. “Open Source Tools for Geographic Analysis in Transport Planning.” Journal of Geographical Systems, January. https://doi.org/10.1007/s10109-020-00342-2.\n\n\nLovelace, Robin, Rosa Félix, and Dustin Carlino. 2022. “Jittering: A Computationally Efficient Method for Generating Realistic Route Networks from Origin-Destination Data.” Findings, April, 33873. https://doi.org/10.32866/001c.33873.\n\n\nLovelace, Robin, John Parkin, and Tom Cohen. 2020. “Open Access Transport Models: A Leverage Point in Sustainable Transport Planning.” Transport Policy 97 (October): 47–54. https://doi.org/10.1016/j.tranpol.2020.06.015.\n\n\nLovelace, Robin, Martijn Tennekes, and Dustin Carlino. 2022. “ClockBoard: A Zoning System for Urban Analysis.” Journal of Spatial Information Science, no. 24 (June): 63–85. https://doi.org/10.5311/JOSIS.2022.24.172.\n\n\nMacKay, David J C. 2009. Sustainable Energy Without the Hot Air. Cambridge: UIT.\n\n\nPeng, Roger D. 2011. “Reproducible Research in Computational Science.” Science (New York, N.y.) 334 (6060): 1226–27. https://doi.org/10.1126/science.1213847.\n\n\nRaff, Edward. 2023. “Does the Market of Citations Reward Reproducible Work?” In, 8996. ACM REP ’23. New York, NY, USA: Association for Computing Machinery. https://doi.org/10.1145/3589806.3600041.\n\n\nSemieniuk, Gregor, Philip B. Holden, Jean-Francois Mercure, Pablo Salas, Hector Pollitt, Katharine Jobson, Pim Vercoulen, Unnada Chewpreecha, Neil R. Edwards, and Jorge E. Viñuales. 2022. “Stranded Fossil-Fuel Assets Translate to Major Losses for Investors in Advanced Economies.” Nature Climate Change 12 (6): 532–38. https://doi.org/10.1038/s41558-022-01356-y."
  },
  {
    "objectID": "slides.html#future-proofing-workflows-appendix",
    "href": "slides.html#future-proofing-workflows-appendix",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Future-proofing workflows Appendix",
    "text": "Future-proofing workflows Appendix\nAvoid stranded assets (tech debt)\n\nSource: Semieniuk et al. (2022)"
  },
  {
    "objectID": "slides.html#sec-appendix",
    "href": "slides.html#sec-appendix",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Appendix: What if the machines do take over?",
    "text": "Appendix: What if the machines do take over?\n\nWould you want the AIs to be trained on your work?\n\nInitial thought: no way, that’s my data!\nSecond thought: if the AIs are going to take over, they might as well be well-informed, by good information and good intentions!\n\nWould you want to be able to understand how the AIs work?"
  },
  {
    "objectID": "slides.html#ai-takeover",
    "href": "slides.html#ai-takeover",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "AI takeover?",
    "text": "AI takeover?"
  },
  {
    "objectID": "slides.html#where-are-we-headed-with-ai",
    "href": "slides.html#where-are-we-headed-with-ai",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Where are we headed with AI?",
    "text": "Where are we headed with AI?\n\nSource: https://situational-awareness.ai"
  },
  {
    "objectID": "slides.html#the-limits-of-ai",
    "href": "slides.html#the-limits-of-ai",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "The limits of AI",
    "text": "The limits of AI\n\nNezhurina (N.D.)"
  },
  {
    "objectID": "slides.html#environmental-costs-of-ai",
    "href": "slides.html#environmental-costs-of-ai",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Environmental costs of ‘AI’",
    "text": "Environmental costs of ‘AI’\n\n\n\n\n\nIT sector was already poised to become a decarbonisation bottleneck\n\n\nSource: theregister.com and Gupta et al. (2021)"
  },
  {
    "objectID": "slides.html#factoring-in-build-out-of-ai-data-centres",
    "href": "slides.html#factoring-in-build-out-of-ai-data-centres",
    "title": "Data Science for Future-Proof Transport Planning",
    "section": "Factoring-in build-out of AI data centres",
    "text": "Factoring-in build-out of AI data centres"
  },
  {
    "objectID": "paper.html",
    "href": "paper.html",
    "title": "",
    "section": "",
    "text": "This is a placeholder for a paper."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Future proof transport planning",
    "section": "",
    "text": "Code and slides for a seminar on future proof transport planning.\nSee more info in link below:\n\nBlurb and introduction\nSlides and website\nTemplate repo on which this builds"
  },
  {
    "objectID": "infrastructure-classification.html",
    "href": "infrastructure-classification.html",
    "title": "Classifying OSM Data",
    "section": "",
    "text": "remotes::install_github(\"nptscot/osmactive\", dependencies = TRUE)\n\nUsing github PAT from envvar GITHUB_PAT. Use `gitcreds::gitcreds_set()` and unset GITHUB_PAT in .Renviron (or elsewhere) if you want to use the more secure git credential store instead.\n\n\nDownloading GitHub repo nptscot/osmactive@HEAD\n\n\ntmap        (aefe37f38... -&gt; 8bd098791...) [GitHub]\nrlang       (1.1.4        -&gt; 1.1.6       ) [CRAN]\ncli         (3.6.3        -&gt; 3.6.5       ) [CRAN]\nR6          (2.5.1        -&gt; 2.6.1       ) [CRAN]\nfs          (1.6.4        -&gt; 1.6.6       ) [CRAN]\nsass        (0.4.9        -&gt; 0.4.10      ) [CRAN]\nmime        (0.12         -&gt; 0.13        ) [CRAN]\njsonlite    (1.8.9        -&gt; 2.0.0       ) [CRAN]\nRcpp        (1.0.13       -&gt; 1.0.14      ) [CRAN]\nlater       (1.3.2        -&gt; 1.4.2       ) [CRAN]\npromises    (1.3.0        -&gt; 1.3.2       ) [CRAN]\nxfun        (0.48         -&gt; 0.52        ) [CRAN]\ntinytex     (0.53         -&gt; 0.57        ) [CRAN]\nknitr       (1.48         -&gt; 1.50        ) [CRAN]\nfontawesome (0.5.2        -&gt; 0.5.3       ) [CRAN]\nevaluate    (1.0.0        -&gt; 1.0.3       ) [CRAN]\nbslib       (0.8.0        -&gt; 0.9.0       ) [CRAN]\nps          (1.8.0        -&gt; 1.9.1       ) [CRAN]\nutf8        (1.2.4        -&gt; 1.2.5       ) [CRAN]\nwithr       (3.0.1        -&gt; 3.0.2       ) [CRAN]\nstringi     (1.8.4        -&gt; 1.8.7       ) [CRAN]\npillar      (1.9.0        -&gt; 1.10.2      ) [CRAN]\ncpp11       (0.5.0        -&gt; 0.5.2       ) [CRAN]\npurrr       (1.0.2        -&gt; 1.0.4       ) [CRAN]\nopenssl     (2.2.2        -&gt; 2.3.2       ) [CRAN]\ncurl        (5.2.3        -&gt; 6.2.2       ) [CRAN]\nxml2        (1.3.6        -&gt; 1.3.8       ) [CRAN]\nprocessx    (3.8.4        -&gt; 3.8.6       ) [CRAN]\nrstudioapi  (0.16.0       -&gt; 0.17.1      ) [CRAN]\nrmarkdown   (2.28         -&gt; 2.29        ) [CRAN]\nbit         (4.5.0        -&gt; 4.6.0       ) [CRAN]\nbit64       (4.5.2        -&gt; 4.6.0-1     ) [CRAN]\ntzdb        (0.4.0        -&gt; 0.5.0       ) [CRAN]\ntextshaping (0.4.0        -&gt; 1.0.1       ) [CRAN]\nsystemfonts (1.1.0        -&gt; 1.2.3       ) [CRAN]\nbroom       (1.0.6        -&gt; 1.0.8       ) [CRAN]\nscales      (1.3.0        -&gt; 1.4.0       ) [CRAN]\ngtable      (0.3.5        -&gt; 0.3.6       ) [CRAN]\ndata.table  (1.16.0       -&gt; 1.17.0      ) [CRAN]\nhttpuv      (1.6.15       -&gt; 1.6.16      ) [CRAN]\nwk          (0.9.3        -&gt; 0.9.4       ) [CRAN]\nclassInt    (0.4-10       -&gt; 0.4-11      ) [CRAN]\nXML         (3.99-0.17    -&gt; 3.99-0.18   ) [CRAN]\nunits       (0.8-5        -&gt; 0.8-7       ) [CRAN]\nstars       (0.6-6        -&gt; 0.6-8       ) [CRAN]\nsf          (1.0-17       -&gt; 1.0-20      ) [CRAN]\nterra       (1.7-78       -&gt; 1.8-42      ) [CRAN]\nsp          (2.1-4        -&gt; 2.2-0       ) [CRAN]\nraster      (3.6-30       -&gt; 3.6-32      ) [CRAN]\nlogger      (NA           -&gt; 0.4.0       ) [CRAN]\nspacesXYZ   (1.3-0        -&gt; 1.5-1       ) [CRAN]\nstringdist  (0.9.12       -&gt; 0.9.15      ) [CRAN]\nBH          (1.84.0-0     -&gt; 1.87.0-1    ) [CRAN]\ncommonmark  (1.9.2        -&gt; 1.9.5       ) [CRAN]\nreadxl      (1.4.3        -&gt; 1.4.5       ) [CRAN]\nragg        (1.3.3        -&gt; 1.4.0       ) [CRAN]\nlubridate   (1.9.3        -&gt; 1.9.4       ) [CRAN]\nggplot2     (3.5.1        -&gt; 3.5.2       ) [CRAN]\ntmaptools   (3.1-1        -&gt; 3.2         ) [CRAN]\nleafgl      (0.1.1        -&gt; 0.2.2       ) [CRAN]\nleafem      (0.2.3        -&gt; 0.2.4       ) [CRAN]\ncols4all    (0.7-1        -&gt; 0.8         ) [CRAN]\nlibgeos     (NA           -&gt; 3.11.1-3    ) [CRAN]\nshiny       (1.9.1        -&gt; 1.10.0      ) [CRAN]\nquarto      (NA           -&gt; 1.4.4       ) [CRAN]\nstplanr     (1.2.2        -&gt; 1.2.3       ) [CRAN]\nosmextract  (NA           -&gt; 0.5.3       ) [CRAN]\ngeos        (NA           -&gt; 0.2.4       ) [CRAN]\n\n\nInstalling 67 packages: rlang, cli, R6, fs, sass, mime, jsonlite, Rcpp, later, promises, xfun, tinytex, knitr, fontawesome, evaluate, bslib, ps, utf8, withr, stringi, pillar, cpp11, purrr, openssl, curl, xml2, processx, rstudioapi, rmarkdown, bit, bit64, tzdb, textshaping, systemfonts, broom, scales, gtable, data.table, httpuv, wk, classInt, XML, units, stars, sf, terra, sp, raster, logger, spacesXYZ, stringdist, BH, commonmark, readxl, ragg, lubridate, ggplot2, tmaptools, leafgl, leafem, cols4all, libgeos, shiny, quarto, stplanr, osmextract, geos\n\n\nInstalling packages into '/usr/local/lib/R/site-library'\n(as 'lib' is unspecified)\n\n\nDownloading GitHub repo r-tmap/tmap@HEAD\n\n\nslippymath (NA -&gt; 0.3.1) [CRAN]\nmaptiles   (NA -&gt; 0.9.0) [CRAN]\n\n\nInstalling 2 packages: slippymath, maptiles\n\n\nInstalling packages into '/usr/local/lib/R/site-library'\n(as 'lib' is unspecified)\n\n\n── R CMD build ─────────────────────────────────────────────────────────────────\n* checking for file ‘/tmp/RtmpePhn4L/remotes10c3271411f/r-tmap-tmap-8bd0987/DESCRIPTION’ ... OK\n* preparing ‘tmap’:\n* checking DESCRIPTION meta-information ... OK\n* checking for LF line-endings in source and make files and shell scripts\n* checking for empty or unneeded directories\n* building ‘tmap_4.0.0.9000.tar.gz’\n\n\nInstalling package into '/usr/local/lib/R/site-library'\n(as 'lib' is unspecified)\n\n\n── R CMD build ─────────────────────────────────────────────────────────────────\n* checking for file ‘/tmp/RtmpePhn4L/remotes10c75d1e59a/nptscot-osmactive-8ff713f/DESCRIPTION’ ... OK\n* preparing ‘osmactive’:\n* checking DESCRIPTION meta-information ... OK\n* checking for LF line-endings in source and make files and shell scripts\n* checking for empty or unneeded directories\n* building ‘osmactive_0.0.0.9000.tar.gz’\n\n\nInstalling package into '/usr/local/lib/R/site-library'\n(as 'lib' is unspecified)\n\nremotes::install_cran(\"osmextract\")\n\nSkipping install of 'osmextract' from a cran remote, the SHA1 (0.5.3) has not changed since last install.\n  Use `force = TRUE` to force installation\n\n\n\nlibrary(osmactive)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tmap)\ntmap_mode(\"view\")\n\nℹ tmap mode set to \"view\".\n\n\n\nstudy_area_route = stplanr::route(\n    from = \"Glasgow Queen Street, Glasgow\",\n    to = \"University of Glasgow, Glasgow\",\n    route_fun = stplanr::route_osrm\n)\n\nMost common output is sf\n\nstudy_area_line = stplanr::line2points(study_area_route) |&gt;\n  mutate(id = 1:2) |&gt;\n  od::points_to_odl() |&gt;\n  slice(2)\n\nLinking to GEOS 3.10.2, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE\n\nstudy_area = sf::st_buffer(study_area_line, dist = 1000) |&gt;\n  rmapshaper::ms_simplify()\nstudy_area = sf::st_union(study_area)\n\n\ntm_shape(study_area) +\n  tm_borders() +\n  tm_shape(study_area_route) +\n  tm_lines(lwd = 2, col = \"red\")\n\n\n\nStudy area\n\n\n\nosm = get_travel_network(\n    study_area,\n    boundary = study_area,\n    boundary_type = \"clipsrc\"\n)\n\nThe input place was matched with Scotland. \n\n\nDownloading the OSM extract:\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |                                                                      |   1%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |==                                                                    |   4%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |=======                                                               |  11%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |=========                                                             |  14%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |=============                                                         |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |==============                                                        |  21%\n  |                                                                            \n  |===============                                                       |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |================                                                      |  24%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |===================                                                   |  28%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |=====================                                                 |  29%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |=======================                                               |  34%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |=========================                                             |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |==========================                                            |  38%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  39%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |============================                                          |  41%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |=============================                                         |  42%\n  |                                                                            \n  |==============================                                        |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |==============================                                        |  44%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |=================================                                     |  48%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |===================================                                   |  51%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |====================================                                  |  52%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |=====================================                                 |  54%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |========================================                              |  58%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |==========================================                            |  61%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |============================================                          |  64%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |===============================================                       |  66%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |===============================================                       |  68%\n  |                                                                            \n  |================================================                      |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |=================================================                     |  71%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |===================================================                   |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |===================================================                   |  74%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |====================================================                  |  75%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |======================================================                |  78%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |========================================================              |  81%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==========================================================            |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |==========================================================            |  84%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |===========================================================           |  85%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |=============================================================         |  88%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |===============================================================       |  91%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |================================================================      |  92%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |=================================================================     |  94%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |==================================================================    |  95%\n  |                                                                            \n  |===================================================================   |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |====================================================================  |  98%\n  |                                                                            \n  |===================================================================== |  98%\n  |                                                                            \n  |===================================================================== |  99%\n  |                                                                            \n  |======================================================================|  99%\n  |                                                                            \n  |======================================================================| 100%\n\n\nFile downloaded!\n\n\nStarting with the vectortranslate operations on the input file!\n\n\n0...10...20...30...40...50...60...70..\n\n\nWarning in CPL_gdalvectortranslate(source, destination, options, oo, doo, :\nGDAL Message 1: A geometry of type MULTILINESTRING is inserted into layer lines\nof geometry type LINESTRING, which is not normally allowed by the GeoPackage\nspecification, but the driver will however do it. To create a conformant\nGeoPackage, if using ogr2ogr, the -nlt option can be used to override the layer\ngeometry type. This warning will no longer be emitted for this combination of\nlayer and feature geometry type.\n\n\n.80...90...100 - done.\n\n\nFinished the vectortranslate operations on the input file!\n\n\nReading layer `lines' from data source \n  `/tmp/RtmpePhn4L/geofabrik_scotland-latest.gpkg' using driver `GPKG'\nSimple feature collection with 6252 features and 67 fields\nGeometry type: MULTILINESTRING\nDimension:     XY\nBounding box:  xmin: -4.294043 ymin: 55.85342 xmax: -4.234872 ymax: 55.88082\nGeodetic CRS:  WGS 84\n\n\nMatched these columns: lanes_psvlanes_buslanes_bus_conditionallanes_bus_backwardlanes_bus_forwardlanes_psv_backwardlanes_psv_forwardlanes_psv_conditionallanes_psv_conditional_backwardlanes_psv_conditional_forwardlanes_psv_conditional_both_wayslanes_psv_both_ways\n\ncycle_net = get_cycling_network(osm)\ndrive_net = get_driving_network(osm)\ncycle_net = get_cycling_network(osm)\ndrive_net = get_driving_network_major(osm)\ncycle_net = distance_to_road(cycle_net, drive_net)\ncycle_net = classify_cycle_infrastructure(cycle_net)\nm = plot_osm_tmap(cycle_net)\n\n\nm\n\n\n\n\n\n\nAnd as a static image:\n\ntmap_mode(\"plot\")\n\nℹ tmap mode set to \"plot\".\n\nm"
  }
]